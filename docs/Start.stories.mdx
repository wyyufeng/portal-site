import { Meta } from '@storybook/addon-docs/blocks';

<Meta title="Start"/>


### ğŸ¨ ä»‹ç»
---
portal-site æ˜¯ä¸“é—¨ç”¨äºcmså‰ç«¯å¼€å‘çš„å·¥å…·åº“ï¼Œä¸»è¦åŒ…å«å››ä¸ªpakage

 - `@portal-site/core` è·¯ç”±ã€reduxã€DataProviderContextå’Œå…¶ä»–Contextçš„åˆ›å»ºä»¥åŠå„ç§hooks
 - `@portal-site/data` æ¥å£å°è£…ï¼Œæºæ•°æ®å¤„ç†
 - `@portal-site/components` åŒ…å«å„ç§åŸºç¡€ç»„ä»¶(elements)å’Œé€»è¾‘å—(blocks)
 - `@portal-site/types` å…¬å…±çš„ç±»å‹å®šä¹‰

### ğŸ¸ å¿«é€Ÿå¼€å§‹
---
```jsx
import { createHttpClient, routesMap, cmsDataProvider } from '@portal-site/data';
import { createBrowserHistory } from 'history';
import { PortalSite } from '@portal-site/core';

// åˆ›å»º dataProvider
 const http = createHttpClient(
    api,
    appid,
    appkey
);
const dataProvider = cmsDataProvider(http)


 <PortalSite
      models={[routesMap]}
      dataProvider={cmsDataProvider(http, 'test-gateway')}
      history={createBrowserHistory()}
      root="cn"
    >
    // components
 </PortalSite>
```

`PortalSite`ç»„ä»¶åœ¨å†…éƒ¨å·²ç»åˆå§‹åŒ–äº†`Router`ã€`react-redux`çš„`Provider`,æ— éœ€å†è‡ªå·±åˆå§‹åŒ–è¿™äº›ç»„ä»¶

### ğŸ¯ props
---
- models  `PortalSite`å†…éƒ¨ä½¿ç”¨äº† [@mpfe/mpa](https://github.com/wyyufeng/mpa)æ¥ç®€åŒ– `redux`çš„ä½¿ç”¨ï¼Œè¿™ä¸ª`models`å³ä¸º `mpa`çš„`model`.ç›®å‰æ¡†æ¶æä¾›äº†`routesMap`è¿™ä¸ª`model`æä¾›è·¯ç”±ä¿¡æ¯
- dataProvider `dataProvider`ç”¨äºæ•°æ®å¤„ç†ï¼Œå®ƒæ¥å—ä»»æ„http clientä½œä¸ºå‚æ•°  è¿”å›ä¸€ä¸ªæè¿°äº†æ•°æ®æ¥å£çš„å¯¹è±¡ï¼Œå…¶ä¸­æ¯ä¸ªæ•°æ®æ¥å£éœ€è¦è¿”å›ä¸€ä¸ª`Promise`ã€‚`@portal-site/data`æä¾›äº†åŸºç¡€çš„`cmsDataProvider`,å¦‚æœéœ€è¦ä¿®æ”¹æˆ–è€…æ‰©å±•ï¼Œå› ä¸º`dataProvider`æœ¬èº«å°±æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯ä»¥æŒ‰ç…§ä¿®æ”¹æˆ–å¢åŠ å¯¹è±¡å±æ€§çš„æ–¹å¼å¯¹å…¶è¿›è¡Œæ‰©å±•ã€‚
- history `react-router`çš„`Router`ç»„ä»¶éœ€è¦çš„historyï¼Œä¸€èˆ¬å»ºè®®ä½¿ç”¨browserHistory
- root è·¯ç”±ä¿¡æ¯çš„æ ¹

### ğŸŒˆ components
---
`@portal-site/components`åŒ…æä¾›äº†å¸¸ç”¨çš„ç»„ä»¶ï¼Œè¿™äº›ç»„ä»¶ä¸€èˆ¬éƒ½æœ‰åŸºç¡€çš„æ ·å¼è®¾å®šï¼Œå¹¶ä¸”ç”±äºä½¿ç”¨ `emotion`ï¼Œå¯ä»¥å¾ˆè½»æ˜“çš„è¦†ç›–é»˜è®¤æ ·å¼

`PortalUIProvider`ç”¨äºç»„ä»¶å†…å„é¡¹å…¬å…±é…ç½®ã€‚ç›®å‰æ”¯æŒ
- assetsPrefix ï¼šèµ„æºå‰ç¼€
- pictureFallbackï¼šé»˜è®¤å›¾ç‰‡åœ°å€
